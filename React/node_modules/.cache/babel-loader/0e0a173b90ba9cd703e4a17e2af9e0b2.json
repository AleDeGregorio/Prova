{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\alexd\\\\Documents\\\\Progetto-Unipa\\\\sitoBE\\\\src\\\\GestioneProprietario\\\\ListCase.js\";\nimport React, { Component } from \"react\";\nimport ListItemCase from \"./ListItemCase\";\nimport styled, { ThemeProvider } from \"styled-components\";\nimport { theme } from \"./shared/theme\";\nimport { DragDropContext, Droppable, Draggable } from \"react-beautiful-dnd\";\nconst ListWrapper = styled.div`\n  width: ${props => props.theme.maxWidth};\n  max-width: 90%;\n  display: block;\n  margin: auto;\n  padding: 70px 0 20px;\n  position: relative;\n  z-index: 10;\n  @media (min-width: ${props => props.theme.mediumDeviceWidth}) {\n    padding: 90px 0 50px;\n  }\n`;\nconst ListTitle = styled.h2`\n  font-weight: normal;\n  font-size: 22px;\n  margin-bottom: 5px;\n  @media (min-width: ${props => props.theme.mediumDeviceWidth}) {\n    font-size: 28px;\n    margin-bottom: 10px;\n  }\n`;\nconst ListBreadcrumb = styled.div`\n  font-weight: 300;\n  font-size: 14px;\n  margin-bottom: 5px;\n  color: ${props => props.theme.mediumGray};\n  @media (min-width: ${props => props.theme.mediumDeviceWidth}) {\n    margin-bottom: 20px;\n  }\n`;\nconst ListDragItem = styled.div`\n  outline: none;\n  position: relative;\n  z-index: ${props => 99999 - props.order};\n`;\n\nclass ListCase extends Component {\n  constructor(props) {\n    super(props);\n\n    this.reorderItems = (startIndex, endIndex) => {\n      const items = Array.from(this.state.items);\n      const [removed] = items.splice(startIndex, 1);\n      items.splice(endIndex, 0, removed);\n      this.setState({\n        items\n      });\n    };\n\n    this.onDragEnd = result => {\n      const {\n        source,\n        destination\n      } = result;\n      if (!destination) return;\n      this.reorderItems(source.index, destination.index);\n    };\n\n    this.refreshItemsList = id => {\n      this.setState(prevState => {\n        return {\n          items: prevState.items.filter(item => item.id !== id)\n        };\n      });\n    };\n\n    this.state = {\n      listTitle: \"ELENCO Case Vacanza\",\n      listBreadcrumb: \"Nome / Prezzo\",\n      items: [{\n        id: '',\n        hasActions: true,\n        textValue: \"\",\n        prezzo: \"\",\n        image: ''\n      }],\n      apiResponse: [],\n      error: false,\n      errorMessage: ''\n    };\n  }\n\n  componentDidMount() {\n    const data = {\n      ref_proprietario: localStorage.getItem('email'),\n      tipo_proprieta: 'cv'\n    };\n    fetch('http://localhost:9000/searchProprietaTipoProprietario/proprietaTipoProprietario', {\n      method: \"POST\",\n      headers: {\n        'Content-type': 'application/json'\n      },\n      body: JSON.stringify(data)\n    }).then(result => result.text()).then(result => {\n      this.setState({\n        apiResponse: JSON.parse(result)\n      });\n      var res = JSON.parse(result);\n      console.log(res[0].nome_proprieta);\n      console.log(res.tariffa_casa + \"euro\");\n      console.log(res.imgCV_path1);\n\n      for (var i = 0; i < res.length; i++) {\n        this.setState({\n          items: [...this.state.items, {\n            id: i,\n            hasActions: true,\n            textValue: res.nome_proprieta,\n            prezzo: res.tariffa_casa + \" euro\",\n            image: res.imgCV_path1\n          }]\n        });\n      }\n\n      if (this.state.apiResponse.status === 'error') {\n        this.setState({\n          error: true\n        });\n        this.setState({\n          errorMessage: this.state.apiResponse.message\n        });\n      }\n    });\n  }\n\n  render() {\n    const {\n      listTitle,\n      listBreadcrumb,\n      items,\n      apiResponse,\n      error,\n      errorMessage\n    } = this.state;\n    return /*#__PURE__*/React.createElement(ThemeProvider, {\n      theme: theme,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(ListWrapper, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(ListTitle, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 11\n      }\n    }, listTitle), /*#__PURE__*/React.createElement(ListBreadcrumb, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 11\n      }\n    }, listBreadcrumb), /*#__PURE__*/React.createElement(DragDropContext, {\n      onDragEnd: this.onDragEnd,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Droppable, {\n      droppableId: \"droppabe-list\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 13\n      }\n    }, (provided, snapshot) => /*#__PURE__*/React.createElement(\"div\", {\n      ref: provided.innerRef,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 17\n      }\n    }, items.map((number, key) => /*#__PURE__*/React.createElement(Draggable, {\n      draggableId: `draggable-${number.id}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 21\n      }\n    }, (provided, snapshot) => /*#__PURE__*/React.createElement(ListDragItem, Object.assign({\n      ref: provided.innerRef\n    }, provided.draggableProps, provided.dragHandleProps, {\n      order: key,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(ListItemCase, {\n      number: number,\n      dragging: snapshot.isDragging,\n      onDeleteItem: this.refreshItemsList,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 27\n      }\n    })))))))));\n  }\n\n}\n\nexport default ListCase;","map":{"version":3,"sources":["C:/Users/alexd/Documents/Progetto-Unipa/sitoBE/src/GestioneProprietario/ListCase.js"],"names":["React","Component","ListItemCase","styled","ThemeProvider","theme","DragDropContext","Droppable","Draggable","ListWrapper","div","props","maxWidth","mediumDeviceWidth","ListTitle","h2","ListBreadcrumb","mediumGray","ListDragItem","order","ListCase","constructor","reorderItems","startIndex","endIndex","items","Array","from","state","removed","splice","setState","onDragEnd","result","source","destination","index","refreshItemsList","id","prevState","filter","item","listTitle","listBreadcrumb","hasActions","textValue","prezzo","image","apiResponse","error","errorMessage","componentDidMount","data","ref_proprietario","localStorage","getItem","tipo_proprieta","fetch","method","headers","body","JSON","stringify","then","text","parse","res","console","log","nome_proprieta","tariffa_casa","imgCV_path1","i","length","status","message","render","provided","snapshot","innerRef","map","number","key","draggableProps","dragHandleProps","isDragging"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport ListItemCase from \"./ListItemCase\";\r\nimport styled, { ThemeProvider } from \"styled-components\";\r\nimport { theme } from \"./shared/theme\";\r\nimport { DragDropContext, Droppable, Draggable } from \"react-beautiful-dnd\";\r\n\r\nconst ListWrapper = styled.div`\r\n  width: ${props => props.theme.maxWidth};\r\n  max-width: 90%;\r\n  display: block;\r\n  margin: auto;\r\n  padding: 70px 0 20px;\r\n  position: relative;\r\n  z-index: 10;\r\n  @media (min-width: ${props => props.theme.mediumDeviceWidth}) {\r\n    padding: 90px 0 50px;\r\n  }\r\n`;\r\nconst ListTitle = styled.h2`\r\n  font-weight: normal;\r\n  font-size: 22px;\r\n  margin-bottom: 5px;\r\n  @media (min-width: ${props => props.theme.mediumDeviceWidth}) {\r\n    font-size: 28px;\r\n    margin-bottom: 10px;\r\n  }\r\n`;\r\nconst ListBreadcrumb = styled.div`\r\n  font-weight: 300;\r\n  font-size: 14px;\r\n  margin-bottom: 5px;\r\n  color: ${props => props.theme.mediumGray};\r\n  @media (min-width: ${props => props.theme.mediumDeviceWidth}) {\r\n    margin-bottom: 20px;\r\n  }\r\n`;\r\nconst ListDragItem = styled.div`\r\n  outline: none;\r\n  position: relative;\r\n  z-index: ${props => 99999 - props.order};\r\n`;\r\n\r\nclass ListCase extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      listTitle: \"ELENCO Case Vacanza\",\r\n      listBreadcrumb: \"Nome / Prezzo\",\r\n      items: [\r\n        {\r\n          id: '',\r\n          hasActions: true,\r\n          textValue: \"\",\r\n          prezzo: \"\",\r\n          image: ''\r\n        },\r\n      ],\r\n      apiResponse: [],\r\n      error: false,\r\n      errorMessage: ''\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    const data = {\r\n      ref_proprietario: localStorage.getItem('email'),\r\n      tipo_proprieta: 'cv'\r\n    }\r\n\r\n    fetch('http://localhost:9000/searchProprietaTipoProprietario/proprietaTipoProprietario', {\r\n        method: \"POST\",\r\n        headers: {\r\n            'Content-type': 'application/json'\r\n        },\r\n        body: JSON.stringify(data)\r\n    })\r\n    .then((result) => result.text())\r\n    .then((result) => {\r\n        this.setState({ apiResponse: JSON.parse(result) });\r\n        \r\n        var res = JSON.parse(result);\r\n\r\n        console.log(res[0].nome_proprieta);\r\n        console.log(res.tariffa_casa + \"euro\");\r\n        console.log(res.imgCV_path1);\r\n\r\n        for(var i = 0; i < res.length; i++) {\r\n          this.setState({\r\n            items: [...this.state.items, {\r\n              id: i,\r\n              hasActions: true,\r\n              textValue: res.nome_proprieta,\r\n              prezzo: res.tariffa_casa + \" euro\",\r\n              image: res.imgCV_path1\r\n            }]\r\n          });\r\n        }\r\n    \r\n        if(this.state.apiResponse.status === 'error') {\r\n            this.setState({ error: true });\r\n            this.setState({ errorMessage: this.state.apiResponse.message });\r\n        }\r\n    });\r\n  }\r\n\r\n  reorderItems = (startIndex, endIndex) => {\r\n    const items = Array.from(this.state.items);\r\n    const [removed] = items.splice(startIndex, 1);\r\n    items.splice(endIndex, 0, removed);\r\n    this.setState({ items });\r\n  };\r\n\r\n  onDragEnd = result => {\r\n    const { source, destination } = result;\r\n    if (!destination) return;\r\n    this.reorderItems(source.index, destination.index);\r\n  };\r\n\r\n  refreshItemsList = id => {\r\n    this.setState(prevState => {\r\n      return {\r\n        items: prevState.items.filter(item => item.id !== id)\r\n      };\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const { listTitle, listBreadcrumb, items, apiResponse, error, errorMessage } = this.state;\r\n    return (\r\n      <ThemeProvider theme={theme}>\r\n        <ListWrapper>\r\n          <ListTitle>{listTitle}</ListTitle>\r\n          <ListBreadcrumb>{listBreadcrumb}</ListBreadcrumb>\r\n          <DragDropContext onDragEnd={this.onDragEnd}>\r\n            <Droppable droppableId=\"droppabe-list\">\r\n              {(provided, snapshot) => (\r\n                <div ref={provided.innerRef}>\r\n                  {items.map((number, key) => (\r\n                    <Draggable\r\n                      draggableId={`draggable-${number.id}`}\r\n                    \r\n                    >\r\n                      {(provided, snapshot) => (\r\n                        <ListDragItem\r\n                          ref={provided.innerRef}\r\n                          {...provided.draggableProps}\r\n                          {...provided.dragHandleProps}\r\n                          order={key}\r\n                        >\r\n                          <ListItemCase\r\n                            number={number}\r\n                            dragging={snapshot.isDragging}\r\n                            onDeleteItem={this.refreshItemsList}\r\n                          />\r\n                        </ListDragItem>\r\n                      )}\r\n                    </Draggable>\r\n                  ))}\r\n                </div>\r\n              )}\r\n            </Droppable>\r\n          </DragDropContext>\r\n        </ListWrapper>\r\n      </ThemeProvider>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ListCase;\r\n"]},"metadata":{},"sourceType":"module"}