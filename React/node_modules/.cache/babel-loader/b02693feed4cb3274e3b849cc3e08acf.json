{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\alexd\\\\Documents\\\\Progetto-Unipa\\\\sitoBE\\\\src\\\\GestioneUtente\\\\GestionePrenotazione.js\";\nimport React from 'react';\nimport './GestionePrenotazione.css';\nimport { Card, CardColumn, Accordion, ListGroup, ListGroupItem, Button, Form, Col } from 'react-bootstrap';\n\nclass GestionePrenotazione extends React.Component {\n  constructor(props) {\n    //props : stati delle componenti parent\n    super(props);\n\n    this.nomeFunzione = e => {\n      const data = {};\n    };\n\n    this.state = {\n      email: localStorage.getItem('email'),\n      //variabili di cui abbiamo bisogno\n      apiResponse: [],\n      error: false,\n      errorMessage: ''\n    };\n  }\n\n  componentDidMount() {\n    //interrogazione che viene effettuata all'apertura della pagina\n    const data = {\n      ref_cliente: this.state.email\n    }; //body richiesta http (in questo caso chiave primaria cioÃ¨ ref_cliente)\n\n    fetch('http://localhost:9000/searchPrenotazioneCliente/prenotazioneCliente', {\n      //metodo http in fetch\n      method: 'POST',\n      headers: {\n        'Content-type': 'application/json'\n      },\n      body: JSON.stringify(data)\n    }).then(result => result.text()) //risultato interrogazione \n    .then(result => {\n      this.setState({\n        apiResponse: JSON.parse(result)\n      }); //rende array il risultato\n\n      if (this.state.apiResponse.status === 'error') {\n        //gestione errori\n        this.setState({\n          error: true,\n          errorMessage: 'this.state.apiResponse.message'\n        });\n      }\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"containerGP\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 21\n      }\n    }, \"Gestisci le tue prenotazioni\"), /*#__PURE__*/React.createElement(\"h5\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 21\n      }\n    }, \"Le tue prenotazioni: \"), this.state.apiResponse.map(res => /*#__PURE__*/React.createElement(\"div\", {\n      className: \"containeracc\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(Accordion, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(Card, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(Card.Header, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"headcac\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 49\n      }\n    }, \"ID: \", res.id_prenotazione), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 49\n      }\n    }, \"Partenza \", new Date(res.data_partenza).toLocaleDateString()), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 49\n      }\n    }, \"Ritorno \", new Date(res.data_ritorno).toLocaleDateString()), /*#__PURE__*/React.createElement(Accordion.Toggle, {\n      as: Button,\n      variant: \"link\",\n      eventKey: \"0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 49\n      }\n    }, \"Dettagli\"))), /*#__PURE__*/React.createElement(Accordion.Collapse, {\n      eventKey: \"0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(Card.Body, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 49\n      }\n    }, \"Dettagli struttura \"), /*#__PURE__*/React.createElement(Accordion, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 49\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"acc3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 53\n      }\n    }, /*#__PURE__*/React.createElement(Accordion.Toggle, {\n      as: Button,\n      onClick: this.nomeFunzione,\n      variant: \"link\",\n      eventKey: \"1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 57\n      }\n    }, \"Modifica data prenotazione\"), /*#__PURE__*/React.createElement(Accordion.Toggle, {\n      as: Button,\n      variant: \"link\",\n      eventKey: \"2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 57\n      }\n    }, \"Elimina prenotazione\"), /*#__PURE__*/React.createElement(Accordion.Toggle, {\n      as: Button,\n      variant: \"link\",\n      eventKey: \"3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 57\n      }\n    }, \"Contatta il gestore\"), /*#__PURE__*/React.createElement(Accordion.Collapse, {\n      eventKey: \"1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 57\n      }\n    }, /*#__PURE__*/React.createElement(Form, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 61\n      }\n    }, /*#__PURE__*/React.createElement(Form.Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 65\n      }\n    }, /*#__PURE__*/React.createElement(Form.Group, {\n      as: Col,\n      controlId: \"formGridDate\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 69\n      }\n    }, /*#__PURE__*/React.createElement(Form.Label, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 73\n      }\n    }, \"Data di inizio\"), /*#__PURE__*/React.createElement(Form.Control, {\n      type: \"date\",\n      placeholder: \"Inserisci data di inizio\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 73\n      }\n    })), /*#__PURE__*/React.createElement(Form.Group, {\n      as: Col,\n      controlId: \"formGridDate1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 69\n      }\n    }, /*#__PURE__*/React.createElement(Form.Label, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 73\n      }\n    }, \"Data fine\"), /*#__PURE__*/React.createElement(Form.Control, {\n      type: \"date\",\n      placeholder: \"Inserisci data di inizio\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 73\n      }\n    }))), /*#__PURE__*/React.createElement(Button, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 65\n      }\n    }, \"Modifica Data\"))), /*#__PURE__*/React.createElement(Accordion.Collapse, {\n      eventKey: \"2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 57\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 61\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 65\n      }\n    }, \"Sei sicuro di voler eliminare la tua prenotazione? Non riavrai indietro la caparra.\"), /*#__PURE__*/React.createElement(Button, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 65\n      }\n    }, \"Conferma\"), /*#__PURE__*/React.createElement(Button, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 65\n      }\n    }, \"Annulla\"))), /*#__PURE__*/React.createElement(Accordion.Collapse, {\n      eventKey: \"3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 57\n      }\n    }, /*#__PURE__*/React.createElement(Form, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 61\n      }\n    }, /*#__PURE__*/React.createElement(Form.Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 65\n      }\n    }, /*#__PURE__*/React.createElement(Form.Group, {\n      controlId: \"formGridContact\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 69\n      }\n    }, /*#__PURE__*/React.createElement(Form.Label, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 73\n      }\n    }, \"Inserisci email\"), /*#__PURE__*/React.createElement(Form.Control, {\n      type: \"email\",\n      placeholder: \"Inserisci tua email\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 73\n      }\n    }), /*#__PURE__*/React.createElement(Form.Label, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 73\n      }\n    }, \"Inserisci messaggio da inviare al gestore\"), /*#__PURE__*/React.createElement(Form.Control, {\n      as: \"textarea\",\n      placeholder: \"Inserisci testo\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 73\n      }\n    }))), /*#__PURE__*/React.createElement(Button, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 65\n      }\n    }, \"Invia comunicazione\")))))))))))));\n  }\n\n}\n\nexport default GestionePrenotazione;","map":{"version":3,"sources":["C:/Users/alexd/Documents/Progetto-Unipa/sitoBE/src/GestioneUtente/GestionePrenotazione.js"],"names":["React","Card","CardColumn","Accordion","ListGroup","ListGroupItem","Button","Form","Col","GestionePrenotazione","Component","constructor","props","nomeFunzione","e","data","state","email","localStorage","getItem","apiResponse","error","errorMessage","componentDidMount","ref_cliente","fetch","method","headers","body","JSON","stringify","then","result","text","setState","parse","status","render","map","res","id_prenotazione","Date","data_partenza","toLocaleDateString","data_ritorno"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport './GestionePrenotazione.css'\r\nimport {Card, CardColumn, Accordion, ListGroup, ListGroupItem, Button, Form, Col} from 'react-bootstrap'\r\n\r\nclass GestionePrenotazione extends React.Component {\r\n    constructor(props) {     //props : stati delle componenti parent\r\n        super(props);\r\n        this.state = {\r\n            email: localStorage.getItem('email'),  //variabili di cui abbiamo bisogno\r\n            apiResponse: [] ,\r\n            error: false,\r\n            errorMessage: ''\r\n        }\r\n    }\r\n\r\n    componentDidMount() { //interrogazione che viene effettuata all'apertura della pagina\r\n        const data = {\r\n            ref_cliente: this.state.email\r\n        }; //body richiesta http (in questo caso chiave primaria cioÃ¨ ref_cliente)\r\n\r\n        fetch('http://localhost:9000/searchPrenotazioneCliente/prenotazioneCliente', { //metodo http in fetch\r\n            method:'POST',\r\n            headers:{\r\n                'Content-type':'application/json'\r\n            },\r\n            body: JSON.stringify(data)\r\n        })\r\n        .then((result)=> result.text())                  //risultato interrogazione \r\n        .then((result)=> {\r\n            this.setState({ apiResponse:JSON.parse(result) }); //rende array il risultato\r\n\r\n            if(this.state.apiResponse.status==='error') {       //gestione errori\r\n                this.setState({\r\n                    error:true, \r\n                    errorMessage:'this.state.apiResponse.message'\r\n                });\r\n            }\r\n        })\r\n   }\r\n    nomeFunzione=(e)=>{\r\n        const data = {}\r\n    }\r\n   \r\n    render() {\r\n        return (\r\n            <div className=\"containerGP\">\r\n                <div>\r\n                    <h1>Gestisci le tue prenotazioni</h1>\r\n                    <h5>Le tue prenotazioni: </h5>\r\n                    {        \r\n                        this.state.apiResponse.map(((res)=>\r\n                            <div className=\"containeracc\">\r\n                                <Accordion>\r\n                                    <Card>\r\n                                        <Card.Header>\r\n                                            <div className=\"headcac\">\r\n                                                <p>ID: {res.id_prenotazione}</p>\r\n                                                <p>Partenza {new Date(res.data_partenza).toLocaleDateString()}</p>\r\n                                                <p>Ritorno {new Date(res.data_ritorno).toLocaleDateString()}</p>\r\n                                                <Accordion.Toggle as={Button} variant=\"link\" eventKey=\"0\">Dettagli</Accordion.Toggle>\r\n                                            </div>\r\n                                        </Card.Header>\r\n                                        <Accordion.Collapse eventKey=\"0\">\r\n                                            <Card.Body>\r\n                                                <h4>Dettagli struttura </h4>\r\n                                                <Accordion>\r\n                                                    <div className=\"acc3\">\r\n                                                        <Accordion.Toggle as={Button} onClick={this.nomeFunzione} variant=\"link\" eventKey=\"1\">Modifica data prenotazione</Accordion.Toggle>\r\n                                                        <Accordion.Toggle as={Button} variant=\"link\" eventKey=\"2\">Elimina prenotazione</Accordion.Toggle>\r\n                                                        <Accordion.Toggle as={Button} variant=\"link\" eventKey=\"3\">Contatta il gestore</Accordion.Toggle>\r\n\r\n                                                        <Accordion.Collapse eventKey=\"1\">\r\n                                                            <Form>\r\n                                                                <Form.Row>\r\n                                                                    <Form.Group as={Col} controlId=\"formGridDate\">\r\n                                                                        <Form.Label>Data di inizio</Form.Label>\r\n                                                                        <Form.Control type=\"date\" placeholder=\"Inserisci data di inizio\" />\r\n                                                                    </Form.Group>\r\n                                                                    <Form.Group as={Col} controlId=\"formGridDate1\">\r\n                                                                        <Form.Label>Data fine</Form.Label>\r\n                                                                        <Form.Control type=\"date\" placeholder=\"Inserisci data di inizio\" />\r\n                                                                    </Form.Group>\r\n                                                                </Form.Row>\r\n                                                                <Button>Modifica Data</Button>\r\n                                                            </Form>\r\n                                                        </Accordion.Collapse>\r\n\r\n                                                        <Accordion.Collapse eventKey=\"2\">\r\n                                                            <div>\r\n                                                                <p>Sei sicuro di voler eliminare la tua prenotazione? Non riavrai indietro la caparra.</p>\r\n                                                                <Button>Conferma</Button>\r\n                                                                <Button>Annulla</Button>\r\n                                                            </div>\r\n                                                        </Accordion.Collapse>\r\n\r\n                                                        <Accordion.Collapse eventKey=\"3\">\r\n                                                            <Form>\r\n                                                                <Form.Row>\r\n                                                                    <Form.Group controlId=\"formGridContact\">\r\n                                                                        <Form.Label>Inserisci email</Form.Label>\r\n                                                                        <Form.Control type=\"email\" placeholder=\"Inserisci tua email\" />\r\n                                                                        <Form.Label>Inserisci messaggio da inviare al gestore</Form.Label>\r\n                                                                        <Form.Control as=\"textarea\" placeholder=\"Inserisci testo\" />\r\n                                                                    </Form.Group>\r\n                                                                </Form.Row>\r\n                                                                <Button>Invia comunicazione</Button>\r\n                                                            </Form>\r\n                                                        </Accordion.Collapse>\r\n                                                    </div>\r\n                                                </Accordion>\r\n                                            </Card.Body>\r\n                                        </Accordion.Collapse>\r\n                                    </Card>\r\n                                </Accordion>\r\n                            </div>\r\n                        )) \r\n                    }   \r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\nexport default GestionePrenotazione;"]},"metadata":{},"sourceType":"module"}