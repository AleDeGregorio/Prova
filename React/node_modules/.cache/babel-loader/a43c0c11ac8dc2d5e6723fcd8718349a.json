{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\alexd\\\\Documents\\\\Progetto-Unipa\\\\sitoBE\\\\src\\\\GestioneProprietario\\\\InserisciProp\\\\inserimentoB&B.js\";\n\n/*CSS FATTO*/\nimport React, { useState, useMemo } from \"react\";\nimport camera from \"../assets/camera.svg\";\nimport { Form, Button } from \"react-bootstrap\";\nimport { Link } from \"react-router-dom\";\nimport \"./InserimentoProprietÃ .css\";\n\nclass InserimentoBnB extends React.Component {\n  constructor() {\n    super();\n\n    this.onChange = e => {\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n    };\n\n    this.onSubmitInsert = e => {\n      e.preventDefault();\n      const data1 = {\n        nome_proprieta: this.state.nome_proprieta,\n        indirizzo: this.state.indirizzo,\n        localita: this.state.localita,\n        provincia: this.state.provincia,\n        tipo_proprieta: 'bb',\n        servizi: this.state.servizi,\n        ref_proprietario: localStorage.getItem('email_prop'),\n        descrizione: this.state.descrizione\n      };\n      const data2 = {\n        ref_proprieta_bb: localStorage.getItem('id_proprieta'),\n        check_in: this.state.oraci,\n        check_out: this.state.oraco\n      };\n      fetch('http://localhost:9000/insertProprieta/new', {\n        method: \"POST\",\n        headers: {\n          'Content-type': 'application/json'\n        },\n        body: JSON.stringify(data1)\n      }).then(result => result.text()).then(result => {\n        console.log(JSON.parse(result));\n        this.setState({\n          apiResponse: JSON.parse(result)\n        });\n\n        if (this.state.apiResponse.status === 'error') {\n          this.setState({\n            error: true\n          });\n          this.setState({\n            errorMessage: this.state.apiResponse.message\n          });\n        } else {//inserire messaggio inserimento avvenuto\n        }\n      });\n      fetch('http//localhost:9000/insertBB/new', {\n        method: \"POST\",\n        headers: {\n          'Content-type': 'application/json'\n        },\n        body: JSON.stringify(data2)\n      }).then(result => result.text()).then(result => {\n        console.log(JSON.parse(result));\n        this.setState({\n          apiResponse: JSON.parse(result)\n        });\n      });\n    };\n\n    this.state = {\n      nome_proprieta: '',\n      indirizzo: '',\n      localita: '',\n      provincia: '',\n      tipo_proprieta: 'bb',\n      servizi: '',\n      descrizione: '',\n      ref_proprietario: localStorage.getItem('email_prop'),\n      oraci: '',\n      oraco: '',\n      apiResponse: [],\n      error: false,\n      errorMessage: ''\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"background\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"containerNew\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"contentNew\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.onSubmitInsert,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 15\n      }\n    }, \"Compila questo form per inserire il tuo B&B!\"), /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"nome_proprieta\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 15\n      }\n    }, \"Nome\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      id: \"nome_proprieta\",\n      name: \"nome_proprieta\",\n      placeholder: \"Nome B&B\",\n      onChange: this.onChange,\n      className: \"i\",\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"localita\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 15\n      }\n    }, \"Citt\\xE0\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      id: \"localita\",\n      name: \"localita\",\n      placeholder: \"Citt\\xE0 B&B\",\n      onChange: this.onChange,\n      className: \"i\",\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"indirizzo\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 15\n      }\n    }, \"Indirizzo\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      id: \"indirizzo\",\n      name: \"indirizzo\",\n      placeholder: \"Indirizzo B&B\",\n      onChange: this.onChange,\n      className: \"i\",\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"provincia\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 15\n      }\n    }, \"Provincia\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      id: \"provincia\",\n      name: \"provincia\",\n      placeholder: \"Provincia B&B\",\n      onChange: this.onChange,\n      className: \"i\",\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"servizi\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 15\n      }\n    }, \"Servizi\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      id: \"servizi\",\n      name: \"servizi\",\n      title: \"Separare ogni servizio elencato con una virgola\",\n      placeholder: \"Elenco servizi offerti\",\n      onChange: this.onChange,\n      className: \"i\",\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"descrizione\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 17\n      }\n    }, \"Descrizione\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      id: \"descrizione\",\n      name: \"descrizione\",\n      placeholder: \"Descrizione B&B\",\n      onChange: this.onChange,\n      className: \"i\",\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"check_in\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 11\n      }\n    }, \"Check-in\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      pattern: \"^\\\\d{1,2}+(.\\\\d{1,2})?$\",\n      title: \"Inserire un orario usando un punto per separare i minuti\",\n      id: \"check_in\",\n      name: \"check_in\",\n      placeholder: \"Orario check-in\",\n      className: \"i\",\n      onChange: this.onChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"check_out\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 11\n      }\n    }, \"Check-out\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      pattern: \"^\\\\d{1,2}+(.\\\\d{1,2})?$\",\n      title: \"Inserire un orario usando un punto per separare i minuti\",\n      id: \"check_out\",\n      name: \"check_out\",\n      placeholder: \"Orario check-out\",\n      className: \"i\",\n      onChange: this.onChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(Link, {\n      to: \"/InserimentoPropriet\\xE0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 11\n      }\n    }, \"Torna indietro\"), /*#__PURE__*/React.createElement(Button, {\n      variant: \"primary\",\n      type: \"submit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 11\n      }\n    }, \"Carica\")))));\n  }\n\n}\n\n;\nexport default InserimentoBnB;","map":{"version":3,"sources":["C:/Users/alexd/Documents/Progetto-Unipa/sitoBE/src/GestioneProprietario/InserisciProp/inserimentoB&B.js"],"names":["React","useState","useMemo","Form","Button","Link","InserimentoBnB","Component","constructor","onChange","e","setState","target","name","value","onSubmitInsert","preventDefault","data1","nome_proprieta","state","indirizzo","localita","provincia","tipo_proprieta","servizi","ref_proprietario","localStorage","getItem","descrizione","data2","ref_proprieta_bb","check_in","oraci","check_out","oraco","fetch","method","headers","body","JSON","stringify","then","result","text","console","log","parse","apiResponse","status","error","errorMessage","message","render"],"mappings":"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","sourcesContent":["/*CSS FATTO*/ \r\n\r\nimport React, { useState, useMemo } from \"react\";\r\nimport camera from \"../assets/camera.svg\";   \r\nimport {Form, Button} from \"react-bootstrap\"\r\nimport {Link} from \"react-router-dom\"\r\n\r\nimport \"./InserimentoProprietÃ .css\";\r\n\r\nclass InserimentoBnB extends React.Component {\r\n  constructor(){\r\n    super();\r\n    this.state={\r\n      nome_proprieta: '',\r\n      indirizzo: '',\r\n      localita:'',\r\n      provincia:'',\r\n      tipo_proprieta:'bb',\r\n      servizi:'',\r\n      descrizione:'',\r\n      ref_proprietario:localStorage.getItem('email_prop'),\r\n      oraci:'',\r\n      oraco:'',\r\n      apiResponse: [],\r\n      error: false,\r\n      errorMessage: ''\r\n    }\r\n  }\r\n  onChange = (e) => {\r\n    this.setState({ [e.target.name]: e.target.value });\r\n  };\r\n  onSubmitInsert = (e) => {\r\n    e.preventDefault();\r\n    const data1= {\r\n      nome_proprieta: this.state.nome_proprieta,\r\n      indirizzo: this.state.indirizzo,\r\n      localita:this.state.localita,\r\n      provincia:this.state.provincia,\r\n      tipo_proprieta:'bb',\r\n      servizi:this.state.servizi,\r\n      ref_proprietario:localStorage.getItem('email_prop'),\r\n      descrizione:this.state.descrizione\r\n    }\r\n    const data2 = {\r\n      ref_proprieta_bb:localStorage.getItem('id_proprieta'),\r\n      check_in:this.state.oraci,\r\n      check_out:this.state.oraco\r\n    };\r\n\r\n    fetch('http://localhost:9000/insertProprieta/new',{\r\n      method: \"POST\",\r\n      headers:{\r\n        'Content-type': 'application/json'\r\n      },\r\n      body: JSON.stringify(data1)\r\n    })\r\n    .then((result) => result.text())\r\n    .then((result) => {\r\n      console.log(JSON.parse(result));\r\n      this.setState({ apiResponse: JSON.parse(result) });\r\n\r\n      if(this.state.apiResponse.status === 'error') {\r\n        this.setState({ error: true });\r\n        this.setState({ errorMessage: this.state.apiResponse.message });\r\n      }\r\n      else {\r\n        //inserire messaggio inserimento avvenuto\r\n      } \r\n    });\r\n    fetch('http//localhost:9000/insertBB/new',{\r\n      method: \"POST\",\r\n      headers:{\r\n        'Content-type': 'application/json'\r\n      },\r\n      body: JSON.stringify(data2)\r\n    })\r\n    .then((result) => result.text())\r\n    .then((result) => {\r\n      console.log(JSON.parse(result));\r\n      this.setState({ apiResponse: JSON.parse(result) });\r\n\r\n    })\r\n  }\r\n  render(){\r\n    return(\r\n      <div className = \"background\">\r\n      <div className = \"containerNew\">  \r\n          <div className = \"contentNew\">\r\n              <form onSubmit = {this.onSubmitInsert}>\r\n              <h2>Compila questo form per inserire il tuo B&B!</h2>\r\n          \r\n              <label htmlFor = \"nome_proprieta\">Nome</label>\r\n              <input\r\n                type = \"text\"\r\n                id = \"nome_proprieta\"\r\n                name = \"nome_proprieta\"\r\n                placeholder = \"Nome B&B\"\r\n                onChange = {this.onChange}\r\n                className = \"i\"\r\n                required\r\n              />\r\n\r\n              <label htmlFor = \"localita\">CittÃ </label>\r\n              <input\r\n                type = \"text\"\r\n                id = \"localita\"\r\n                name = \"localita\"\r\n                placeholder = \"CittÃ  B&B\"\r\n                onChange = {this.onChange}\r\n                className = \"i\"\r\n                required\r\n              />\r\n\r\n              <label htmlFor = \"indirizzo\">Indirizzo</label>\r\n              <input\r\n                type = \"text\"\r\n                id = \"indirizzo\"\r\n                name = \"indirizzo\"\r\n                placeholder= \"Indirizzo B&B\"\r\n                onChange = {this.onChange}\r\n                className = \"i\"\r\n                required\r\n              />\r\n           \r\n              <label htmlFor = \"provincia\">Provincia</label>\r\n              <input\r\n                type = \"text\"\r\n                id = \"provincia\"\r\n                name = \"provincia\"\r\n                placeholder = \"Provincia B&B\"\r\n                onChange = {this.onChange}\r\n                className = \"i\"\r\n                required\r\n              />\r\n\r\n              <label htmlFor = \"servizi\">Servizi</label>\r\n              <input\r\n                type = \"text\"\r\n                id = \"servizi\"\r\n                name = \"servizi\"\r\n                title = \"Separare ogni servizio elencato con una virgola\"\r\n                placeholder = \"Elenco servizi offerti\"\r\n                onChange = {this.onChange}\r\n                className = \"i\"\r\n                required\r\n              />\r\n                <label htmlFor = \"descrizione\">Descrizione</label>\r\n                <input\r\n                type = \"text\"\r\n                id = \"descrizione\"\r\n                name = \"descrizione\"\r\n                placeholder = \"Descrizione B&B\"\r\n                onChange = {this.onChange}\r\n                className = \"i\"\r\n                required\r\n              />\r\n\r\n          <label htmlFor=\"check_in\">Check-in</label>\r\n          <input\r\n            type = \"text\"\r\n            pattern = \"^\\d{1,2}+(.\\d{1,2})?$\"\r\n            title = \"Inserire un orario usando un punto per separare i minuti\"\r\n            id = \"check_in\"\r\n            name = \"check_in\"\r\n            placeholder = \"Orario check-in\"\r\n            className = \"i\"\r\n            onChange = {this.onChange}\r\n          />\r\n\r\n          <label htmlFor=\"check_out\">Check-out</label>\r\n          <input\r\n            type = \"text\"\r\n            pattern = \"^\\d{1,2}+(.\\d{1,2})?$\"\r\n            title = \"Inserire un orario usando un punto per separare i minuti\"\r\n            id = \"check_out\"\r\n            name = \"check_out\"\r\n            placeholder = \"Orario check-out\"\r\n            className = \"i\"\r\n            onChange = {this.onChange}\r\n          />\r\n          <Link to=\"/InserimentoProprietÃ \">Torna indietro</Link>\r\n          <Button variant=\"primary\" type=\"submit\">\r\n            Carica\r\n          </Button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n    </div>\r\n     ); }\r\n};\r\n\r\nexport default InserimentoBnB;"]},"metadata":{},"sourceType":"module"}