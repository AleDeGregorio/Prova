{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\alexd\\\\Documents\\\\Progetto-Unipa\\\\sitoBE\\\\src\\\\App.js\";\nimport React from 'react';\nimport './App.css';\nimport Navbar from './components/NavBar';\nimport Footer from './components/Footer';\nimport HomePage from './components/HomePage';\nimport Autenticazione from './Autenticazione/Autenticazione';\nimport Cliente from './components/ClientePage';\nimport ProprietarioPage from './GestioneProprietario/ProprietarioPage';\nimport PaginaDettagli from './PaginaDettagli/PaginaDettagli';\nimport Checkin from './GestioneProprietario/Checkin/Checkin';\nimport CheckinEffettuato from './GestioneProprietario/Checkin/CheckinEffettuato';\nimport Earning2 from './GestioneProprietario/Earning/Earning2';\nimport DatiPersonali from './GestioneProprietario/DatiPersonali';\nimport InserimentoProprietà from './GestioneProprietario/InserisciProp/InserimentoProprietà';\nimport ElencoCasaVacanza from './GestioneProprietario/Modifica/ElencoCasaVacanza';\nimport ElencoBeB from './GestioneProprietario/Modifica/ElencoB&B';\nimport SceltaModifica from './GestioneProprietario/Modifica/SceltaModifica';\nimport ModificaCasaVacanza from './GestioneProprietario/Modifica/ModificaCasaVacanza';\nimport SecondaAutenticazioneAccedi from './Autenticazione/secondaAutenticazioneAccedi';\nimport SecondaAutenticazioneRegistrati from './Autenticazione/secondaAutenticazioneRegistrati';\nimport Accettazione from './GestioneProprietario/Accettazione/Accettazione';\nimport SceltaModificaBeb from './GestioneProprietario/Modifica/SceltaModificaB&B';\nimport ModificaBeB from './GestioneProprietario/Modifica/ModificaB&B';\nimport ElencoListaStanze from './GestioneProprietario/Modifica/ElencoListaStanze';\nimport ModificaStanza from './GestioneProprietario/Modifica/ModificaStanza';\nimport InserimentoBnB from './GestioneProprietario/InserisciProp/inserimentoB&B';\nimport InserimentoCasaVacanza from './GestioneProprietario/InserisciProp/inserimentoCasaVacanza';\nimport ErrorPage from './components/ErrorPage';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\n\nStorage.prototype.setObj = function (key, obj) {\n  return this.setItem(key, JSON.stringify(obj));\n};\n\nStorage.prototype.getObj = function (key) {\n  return JSON.parse(this.getItem(key));\n};\n\nclass App extends React.Component {\n  constructor() {\n    super();\n\n    this.onChange = e => {\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n    };\n\n    this.onSubmitLogin = e => {\n      e.preventDefault(); // get form data out of state\n\n      const data = {\n        email: this.state.email,\n        password: this.state.password\n      };\n      fetch('http://localhost:9000/login/logged', {\n        method: \"POST\",\n        headers: {\n          'Content-type': 'application/json'\n        },\n        body: JSON.stringify(data)\n      }).then(result => result.text()).then(result => {\n        console.log(JSON.parse(result));\n        this.setState({\n          apiResponse: JSON.parse(result)\n        });\n\n        if (this.state.apiResponse.status === 'error') {\n          this.setState({\n            error: true\n          });\n          this.setState({\n            errorMessage: this.state.apiResponse.message\n          });\n        } else {\n          /*this.setState({ \r\n            logged: true,\r\n            cliente: this.state.apiResponse[0].email_cl ? true : false,\r\n            proprietario: this.state.apiResponse[0].email_prop ? true : false\r\n          });*/\n          localStorage.setItem('logged', true);\n          localStorage.setObj('user_data', this.state.apiResponse);\n          var cliente = this.state.apiResponse[0].email_cl ? true : false;\n\n          if (cliente) {\n            localStorage.setItem('cliente', true);\n            localStorage.setItem('email', this.state.apiResponse[0].email_cl);\n          } else {\n            localStorage.setItem('proprietario', true);\n            localStorage.setItem('email', this.state.apiResponse[0].email_prop);\n          }\n        }\n      });\n    };\n\n    this.state = {\n      email: '',\n      password: '',\n      //logged: false,\n      //cliente: false,\n      //proprietario: false,\n      apiResponse: [],\n      error: false,\n      errorMessage: '' //success: false,\n\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(Router, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"App\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Navbar, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(Switch, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Route, {\n      exact: true,\n      path: \"/\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(HomePage, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(Route, {\n      exact: true,\n      path: \"/ErrorPage\",\n      render: props => /*#__PURE__*/React.createElement(ErrorPage, Object.assign({}, props, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 19\n        }\n      })),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      exact: true,\n      path: \"/Autenticazione\",\n      render: props => /*#__PURE__*/React.createElement(Autenticazione, Object.assign({}, props, {\n        onChange: this.onChange,\n        onSubmitLogin: this.onSubmitLogin,\n        error: this.state.error,\n        errorMessage: this.state.errorMessage,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 19\n        }\n      })),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      exact: true,\n      path: \"/secondaAutenticazioneAccedi\",\n      render: props => /*#__PURE__*/React.createElement(SecondaAutenticazioneAccedi, Object.assign({}, props, {\n        onChange: this.onChange,\n        onSubmitLogin: this.onSubmitLogin,\n        error: this.state.error,\n        errorMessage: this.state.errorMessage,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 19\n        }\n      })),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      exact: true,\n      path: \"/secondaAutenticazioneRegistrati\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(SecondaAutenticazioneRegistrati, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(Route, {\n      exact: true,\n      path: \"/PaginaCliente\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Cliente, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(Route, {\n      exact: true,\n      path: \"/PaginaProprietario\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(ProprietarioPage, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(Route, {\n      exact: true,\n      path: \"/PaginaDettagli\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(PaginaDettagli, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 19\n      }\n    })), /*#__PURE__*/React.createElement(Route, {\n      exact: true,\n      path: \"/Checkin\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Checkin, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(Route, {\n      exact: true,\n      path: \"/CheckinEffettuato\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(CheckinEffettuato, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(Route, {\n      exact: true,\n      path: \"/InserimentoPropriet\\xE0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(InserimentoProprietà, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(Route, {\n      exact: true,\n      path: \"/DatiPersonali\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(DatiPersonali, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(Route, {\n      exact: true,\n      path: \"/Earning\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Earning2, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(Route, {\n      exact: true,\n      path: \"/ElencoB&B\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(ElencoBeB, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(Route, {\n      exact: true,\n      path: \"/ElencoCasaVacanza\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(ElencoCasaVacanza, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(Route, {\n      exact: true,\n      path: \"/SceltaModifica\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(SceltaModifica, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(Route, {\n      exact: true,\n      path: \"/ModificaCasaVacanza\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(ModificaCasaVacanza, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(Route, {\n      exact: true,\n      path: \"/Accettazione\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Accettazione, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(Route, {\n      exact: true,\n      path: \"/SceltaModificaB&B\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(SceltaModificaBeb, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(Route, {\n      exact: true,\n      path: \"/ModificaB&B\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(ModificaBeB, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(Route, {\n      exact: true,\n      path: \"/ElencoListaStanze\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(ElencoListaStanze, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(Route, {\n      exact: true,\n      path: \"/ModificaStanza\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(ModificaStanza, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(Route, {\n      exact: true,\n      path: \"/InserimentoBnB\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(InserimentoBnB, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(Route, {\n      exact: true,\n      path: \"/InserimentoCasaVacanza\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(InserimentoCasaVacanza, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 17\n      }\n    })), \"/InserimentoCasaVacanza\"), /*#__PURE__*/React.createElement(Footer, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 11\n      }\n    })));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["C:/Users/alexd/Documents/Progetto-Unipa/sitoBE/src/App.js"],"names":["React","Navbar","Footer","HomePage","Autenticazione","Cliente","ProprietarioPage","PaginaDettagli","Checkin","CheckinEffettuato","Earning2","DatiPersonali","InserimentoProprietà","ElencoCasaVacanza","ElencoBeB","SceltaModifica","ModificaCasaVacanza","SecondaAutenticazioneAccedi","SecondaAutenticazioneRegistrati","Accettazione","SceltaModificaBeb","ModificaBeB","ElencoListaStanze","ModificaStanza","InserimentoBnB","InserimentoCasaVacanza","ErrorPage","BrowserRouter","Router","Switch","Route","Storage","prototype","setObj","key","obj","setItem","JSON","stringify","getObj","parse","getItem","App","Component","constructor","onChange","e","setState","target","name","value","onSubmitLogin","preventDefault","data","email","state","password","fetch","method","headers","body","then","result","text","console","log","apiResponse","status","error","errorMessage","message","localStorage","cliente","email_cl","email_prop","render","props"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport './App.css';\r\nimport Navbar from './components/NavBar'\r\nimport Footer from './components/Footer'\r\nimport HomePage from './components/HomePage'\r\nimport Autenticazione from './Autenticazione/Autenticazione'\r\nimport Cliente from './components/ClientePage'\r\nimport ProprietarioPage from './GestioneProprietario/ProprietarioPage'\r\nimport PaginaDettagli from './PaginaDettagli/PaginaDettagli'\r\nimport Checkin from './GestioneProprietario/Checkin/Checkin'\r\nimport CheckinEffettuato from './GestioneProprietario/Checkin/CheckinEffettuato'\r\nimport Earning2 from './GestioneProprietario/Earning/Earning2'\r\nimport DatiPersonali from './GestioneProprietario/DatiPersonali'\r\nimport InserimentoProprietà from './GestioneProprietario/InserisciProp/InserimentoProprietà';\r\nimport ElencoCasaVacanza from './GestioneProprietario/Modifica/ElencoCasaVacanza'\r\nimport ElencoBeB from './GestioneProprietario/Modifica/ElencoB&B'\r\nimport SceltaModifica from './GestioneProprietario/Modifica/SceltaModifica'\r\nimport ModificaCasaVacanza from './GestioneProprietario/Modifica/ModificaCasaVacanza'\r\nimport SecondaAutenticazioneAccedi from './Autenticazione/secondaAutenticazioneAccedi'\r\nimport SecondaAutenticazioneRegistrati from './Autenticazione/secondaAutenticazioneRegistrati'\r\nimport Accettazione from './GestioneProprietario/Accettazione/Accettazione'\r\nimport SceltaModificaBeb from './GestioneProprietario/Modifica/SceltaModificaB&B'\r\nimport ModificaBeB from './GestioneProprietario/Modifica/ModificaB&B'\r\nimport ElencoListaStanze from './GestioneProprietario/Modifica/ElencoListaStanze'\r\nimport ModificaStanza from './GestioneProprietario/Modifica/ModificaStanza'\r\nimport InserimentoBnB from './GestioneProprietario/InserisciProp/inserimentoB&B'\r\nimport InserimentoCasaVacanza from './GestioneProprietario/InserisciProp/inserimentoCasaVacanza'\r\nimport ErrorPage from './components/ErrorPage'\r\nimport 'bootstrap/dist/css/bootstrap.min.css'\r\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\r\n\r\n\r\nStorage.prototype.setObj = function(key, obj) {\r\n  return this.setItem(key, JSON.stringify(obj))\r\n}\r\nStorage.prototype.getObj = function(key) {\r\n  return JSON.parse(this.getItem(key))\r\n}\r\n\r\nclass App extends React.Component {\r\n\r\n  constructor() {\r\n    super();\r\n\r\n    this.state = { \r\n      email: '',\r\n      password: '',\r\n      //logged: false,\r\n      //cliente: false,\r\n      //proprietario: false,\r\n      apiResponse: [],\r\n      error: false,\r\n      errorMessage: ''\r\n      //success: false,\r\n    };\r\n  }\r\n\r\n  onChange = (e) => {\r\n    this.setState({ [e.target.name]: e.target.value });\r\n  }\r\n\r\n  onSubmitLogin = (e) => {\r\n    e.preventDefault();\r\n    // get form data out of state\r\n    const data = {\r\n      email: this.state.email,\r\n      password: this.state.password,\r\n    };\r\n\r\n    fetch('http://localhost:9000/login/logged', {\r\n        method: \"POST\",\r\n        headers: {\r\n            'Content-type': 'application/json'\r\n        },\r\n        body: JSON.stringify(data)\r\n    })\r\n    .then((result) => result.text())\r\n    .then((result) => {\r\n      console.log(JSON.parse(result));\r\n      this.setState({ apiResponse: JSON.parse(result) });\r\n\r\n      if(this.state.apiResponse.status === 'error') {\r\n        this.setState({ error: true });\r\n        this.setState({ errorMessage: this.state.apiResponse.message });\r\n      }\r\n      else {\r\n        /*this.setState({ \r\n          logged: true,\r\n          cliente: this.state.apiResponse[0].email_cl ? true : false,\r\n          proprietario: this.state.apiResponse[0].email_prop ? true : false\r\n        });*/\r\n\r\n        localStorage.setItem('logged', true);\r\n        localStorage.setObj('user_data', this.state.apiResponse);\r\n\r\n        var cliente = this.state.apiResponse[0].email_cl ? true : false;\r\n        \r\n        if(cliente) {\r\n          localStorage.setItem('cliente', true);\r\n          localStorage.setItem('email', this.state.apiResponse[0].email_cl);\r\n        }\r\n        else {\r\n          localStorage.setItem('proprietario', true);\r\n          localStorage.setItem('email', this.state.apiResponse[0].email_prop);\r\n        }\r\n      }\r\n    });\r\n  }\r\n  \r\n  render() {\r\n    return (\r\n      <Router>\r\n      <div className=\"App\">\r\n          <Navbar />\r\n            <Switch>\r\n              <Route exact path=\"/\">\r\n                <HomePage/>\r\n              </Route>\r\n              <Route \r\n                exact path = '/ErrorPage'\r\n                render = { (props) => (\r\n                  <ErrorPage {...props} \r\n                />)}\r\n              />\r\n              <Route \r\n                exact path = '/Autenticazione'\r\n                render = { (props) => (\r\n                  <Autenticazione {...props}  \r\n                    onChange = {this.onChange}\r\n                    onSubmitLogin = {this.onSubmitLogin}\r\n                    error = {this.state.error}\r\n                    errorMessage = {this.state.errorMessage}\r\n                  />)\r\n                }\r\n              />\r\n              <Route \r\n                exact path = '/secondaAutenticazioneAccedi'\r\n                render = { (props) => (\r\n                  <SecondaAutenticazioneAccedi {...props}\r\n                    onChange = {this.onChange}\r\n                    onSubmitLogin = {this.onSubmitLogin}\r\n                    error = {this.state.error}\r\n                    errorMessage = {this.state.errorMessage}\r\n                  />\r\n                )}\r\n              />\r\n              <Route exact path = '/secondaAutenticazioneRegistrati'>\r\n                <SecondaAutenticazioneRegistrati/>\r\n              </Route>\r\n              <Route exact path = \"/PaginaCliente\">\r\n                <Cliente />\r\n              </Route>\r\n              <Route exact path = '/PaginaProprietario'>\r\n                <ProprietarioPage/>\r\n              </Route>\r\n              <Route exact path = '/PaginaDettagli'>\r\n                  <PaginaDettagli/>\r\n              </Route>\r\n              <Route exact path = '/Checkin'>\r\n                <Checkin />\r\n              </Route>\r\n              <Route exact path = '/CheckinEffettuato'>\r\n                <CheckinEffettuato />\r\n              </Route>\r\n              <Route exact path = '/InserimentoProprietà'>\r\n                <InserimentoProprietà />\r\n              </Route>\r\n              <Route exact path = '/DatiPersonali'>\r\n                <DatiPersonali/>\r\n              </Route>\r\n              <Route exact path = '/Earning'>\r\n                <Earning2/>\r\n              </Route>\r\n              <Route exact path = '/ElencoB&B'>\r\n                <ElencoBeB/>\r\n              </Route>\r\n              <Route exact path = '/ElencoCasaVacanza'>\r\n                <ElencoCasaVacanza/>\r\n              </Route>\r\n              <Route exact path = '/SceltaModifica'>\r\n                <SceltaModifica/>\r\n              </Route>\r\n              <Route exact path = '/ModificaCasaVacanza'>\r\n                <ModificaCasaVacanza/>\r\n              </Route>\r\n              <Route exact path = '/Accettazione'>\r\n                <Accettazione/>\r\n              </Route>\r\n              <Route exact path = '/SceltaModificaB&B'>\r\n                <SceltaModificaBeb/>\r\n              </Route>\r\n              <Route exact path = '/ModificaB&B'>\r\n                <ModificaBeB/>\r\n              </Route>\r\n              <Route exact path = '/ElencoListaStanze'>\r\n                <ElencoListaStanze/>\r\n              </Route>\r\n              <Route exact path = '/ModificaStanza'>\r\n                <ModificaStanza/>\r\n              </Route>\r\n              <Route exact path = '/InserimentoBnB'>\r\n                <InserimentoBnB/>\r\n              </Route>\r\n              <Route exact path = '/InserimentoCasaVacanza'>\r\n                <InserimentoCasaVacanza/>\r\n              </Route>\r\n              /InserimentoCasaVacanza\r\n            </Switch>  \r\n          <Footer/>\r\n          </div>\r\n        </ Router>\r\n      );\r\n  }\r\n}\r\n\r\nexport default App;\r\n"]},"metadata":{},"sourceType":"module"}